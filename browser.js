var Altiva=function(){"use strict";var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=p,n=a,r=function(t){return c(a(t))},i=c,o=f,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(t){for(var e,n=[],r=0,i=0,o="";null!=(e=s.exec(t));){var a=e[0],c=e[1],u=e.index;if(o+=t.slice(i,u),i=u+a.length,c)o+=c[1];else{o&&(n.push(o),o="");var h=e[2],d=e[3],f=e[4],p=e[5],m=e[6],g=e[7],v="+"===m||"*"===m,y="?"===m||"*"===m,b=h||"/",_=f||p||(g?".*":"[^"+b+"]+?");n.push({name:d||r++,prefix:h||"",delimiter:b,optional:y,repeat:v,pattern:l(_)})}}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function c(e){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^"+e[r].pattern+"$"));return function(r){for(var i="",o=r||{},s=0;s<e.length;s++){var a=e[s];if("string"!=typeof a){var c,u=o[a.name];if(null==u){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(t(u)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+u+'"');if(0===u.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var l=0;l<u.length;l++){if(c=encodeURIComponent(u[l]),!n[s].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');i+=(0===l?a.prefix:a.delimiter)+c}}else{if(c=encodeURIComponent(u),!n[s].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');i+=a.prefix+c}}else i+=a}return i}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function d(t){return t.sensitive?"":"i"}function f(t,e){for(var n=(e=e||{}).strict,r=!1!==e.end,i="",o=t[t.length-1],s="string"==typeof o&&/\/$/.test(o),a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)i+=u(c);else{var l=u(c.prefix),h=c.pattern;c.repeat&&(h+="(?:"+l+h+")*"),i+=h=c.optional?l?"(?:"+l+"("+h+"))?":"("+h+")?":l+"("+h+")"}}return n||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=r?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+i,d(e))}function p(e,n,r){return t(n=n||[])?r||(r={}):(r=n,n=[]),e instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return h(t,e)}(e,n):t(e)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return h(new RegExp("(?:"+r.join("|")+")",d(n)),e)}(e,n,r):function(t,e,n){for(var r=a(t),i=f(r,n),o=0;o<r.length;o++)"string"!=typeof r[o]&&e.push(r[o]);return h(i,e)}(e,n,r)}e.parse=n,e.compile=r,e.tokensToFunction=i,e.tokensToRegExp=o;var m,g,v=C,y="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",b="undefined"!=typeof window&&(window.history.location||window.location),_=!0,w=!0,x="",k=!1;function C(t,e){if("function"==typeof t)return C("*",t);if("function"==typeof e)for(var n=new A(t),r=1;r<arguments.length;++r)C.callbacks.push(n.middleware(arguments[r]));else"string"==typeof t?C["string"==typeof e?"redirect":"show"](t,e):C.start(t)}function E(t){return"string"!=typeof t?t:w?decodeURIComponent(t.replace(/\+/g," ")):t}function S(t,e){"/"===t[0]&&0!==t.indexOf(x)&&(t=x+(k?"#!":"")+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(x,"")||"/",k&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~n?E(t.slice(n+1)):"",this.pathname=E(~n?t.slice(0,n):t),this.params={},this.hash="",!k){if(!~this.path.indexOf("#"))return;var r=this.path.split("#");this.path=r[0],this.hash=E(r[1])||"",this.querystring=this.querystring.split("#")[0]}}function A(t,n){n=n||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],n)}C.callbacks=[],C.exits=[],C.current="",C.len=0,C.base=function(t){if(0===arguments.length)return x;x=t},C.start=function(t){if(t=t||{},!m&&(m=!0,!1===t.dispatch&&(_=!1),!1===t.decodeURLComponents&&(w=!1),!1!==t.popstate&&window.addEventListener("popstate",R,!1),!1!==t.click&&document.addEventListener(y,O,!1),!0===t.hashbang&&(k=!0),_)){var e=k&&~b.hash.indexOf("#!")?b.hash.substr(2)+b.search:b.pathname+b.search+b.hash;C.replace(e,null,!0,_)}},C.stop=function(){m&&(C.current="",C.len=0,m=!1,document.removeEventListener(y,O,!1),window.removeEventListener("popstate",R,!1))},C.show=function(t,e,n,r){var i=new S(t,e);return C.current=i.path,!1!==n&&C.dispatch(i),!1!==i.handled&&!1!==r&&i.pushState(),i},C.back=function(t,e){C.len>0?(history.back(),C.len--):t?setTimeout(function(){C.show(t,e)}):setTimeout(function(){C.show(x,e)})},C.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&C(t,function(t){setTimeout(function(){C.replace(e)},0)}),"string"==typeof t&&void 0===e&&setTimeout(function(){C.replace(t)},0)},C.replace=function(t,e,n,r){var i=new S(t,e);return C.current=i.path,i.init=n,i.save(),!1!==r&&C.dispatch(i),i},C.dispatch=function(t){var e=g,n=0,r=0;function i(){var e=C.callbacks[n++];if(t.path===C.current)return e?void e(t,i):function(t){if(t.handled)return;var e;e=k?x+b.hash.replace("#!",""):b.pathname+b.search;if(e===t.canonicalPath)return;C.stop(),t.handled=!1,b.href=t.canonicalPath}(t);t.handled=!1}g=t,e?function t(){var n=C.exits[r++];if(!n)return i();n(e,t)}():i()},C.exit=function(t,e){if("function"==typeof t)return C.exit("*",t);for(var n=new A(t),r=1;r<arguments.length;++r)C.exits.push(n.middleware(arguments[r]))},C.Context=S,S.prototype.pushState=function(){C.len++,history.pushState(this.state,this.title,k&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},S.prototype.save=function(){history.replaceState(this.state,this.title,k&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},C.Route=A,A.prototype.middleware=function(t){var e=this;return function(n,r){if(e.match(n.path,n.params))return t(n,r);r()}},A.prototype.match=function(t,e){var n=this.keys,r=t.indexOf("?"),i=~r?t.slice(0,r):t,o=this.regexp.exec(decodeURIComponent(i));if(!o)return!1;for(var s=1,a=o.length;s<a;++s){var c=n[s-1],u=E(o[s]);void 0===u&&hasOwnProperty.call(e,c.name)||(e[c.name]=u)}return!0};var R=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(e){if(t)if(e.state){var n=e.state.path;C.replace(n,e.state)}else C.show(b.pathname+b.hash,void 0,void 0,!1)}}();function O(t){if(1===function(t){return null===(t=t||window.event).which?t.button:t.which}(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.path?t.path[0]:t.target;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var n="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var r=e.getAttribute("href");if((k||e.pathname!==b.pathname||!e.hash&&"#"!==r)&&!(r&&r.indexOf("mailto:")>-1)&&(n?!e.target.baseVal:!e.target)&&(n||T(e.href))){var i=n?e.href.baseVal:e.pathname+e.search+(e.hash||"");"undefined"!=typeof process&&i.match(/^\/[a-zA-Z]:\//)&&(i=i.replace(/^\/[a-zA-Z]:\//,"/"));var o=i;0===i.indexOf(x)&&(i=i.substr(x.length)),k&&(i=i.replace("#!","")),x&&o===i||(t.preventDefault(),C.show(o))}}}}}function T(t){var e=b.protocol+"//"+b.hostname;return b.port&&(e+=":"+b.port),t&&0===t.indexOf(e)}function N(){}function $(t,e){for(var n in e)t[n]=e[n];return t}function P(t){return t&&"function"==typeof t.then}function j(t){return document.createElement(t)}function U(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function B(t,e,n){t.setAttribute(e,n)}function I(t,e){t.removeAttribute(e)}function q(t){return t}function D({a:t,b:e,delta:n,duration:r},i,o){const s=16.666/r;let a="{\n";for(let e=0;e<=1;e+=s){a+=100*e+`%{${o(t+n*i(e))}}\n`}return a+`100% {${o(e)}}\n}`}function F(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}C.sameOrigin=T;var M={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(t,e){if(!this.stylesheet){const t=j("style");document.head.appendChild(t),M.stylesheet=t.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule(`@keyframes ${e} ${t}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const t=window.performance.now();let e=this.transitions.length;for(;e--;){const n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let t=this.stylesheet.cssRules.length;for(;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule(t,e){t.style.animation=t.style.animation.split(", ").filter(t=>t&&-1===t.indexOf(e)).join(", ")},groupOutros(){this.outros={remaining:0,callbacks:[]}}};function V(t,e){t.d(1),e[t.key]=null}function z(t,e){t.o(function(){V(t,e)})}const G={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function K(){return Object.create(null)}function J(t){this.destroy=N,this.fire("destroy"),this.set=N,this._fragment.d(!1!==t),this._fragment=null,this._state={}}function X(t){J.call(this,t),this.destroy=function(){console.warn("Component was already destroyed")}}function Z(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function H(t,e){return t!=t?e==e:t!==e}function Q(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];i.__calling||(i.__calling=!0,i.call(this,e),i.__calling=!1)}}function W(){return this._state}function Y(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function tt(t){this._set($({},t)),this.root._lock||(this.root._lock=!0,rt(this.root._beforecreate),rt(this.root._oncreate),rt(this.root._aftercreate),this.root._lock=!1)}function et(t){var e=this._state,n={},r=!1;for(var i in t)this._differs(t[i],e[i])&&(n[i]=r=!0);r&&(this._state=$($({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))}function nt(t){if("object"!=typeof t)throw new Error(this._debugName+".set was called without an object of data key-values to update.");this._checkReadOnly(t),tt.call(this,t)}function rt(t){for(;t&&t.length;)t.shift()()}function it(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}var ot={destroy:J,get:W,fire:Q,on:Y,set:tt,_recompute:N,_set:et,_mount:it,_differs:Z},st={destroy:X,get:W,fire:Q,on:Y,set:nt,_recompute:N,_set:et,_mount:it,_differs:Z},at=Object.freeze({blankObject:K,destroy:J,destroyDev:X,_differs:Z,_differsImmutable:H,fire:Q,get:W,init:function(t,e){t._handlers=K(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store},on:Y,run:function(t){t()},set:tt,_set:et,setDev:nt,callAll:rt,_mount:it,PENDING:{},SUCCESS:{},FAILURE:{},removeFromStore:function(){this.store._remove(this)},proto:ot,protoDev:st,handlePromise:function(t,e){var n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=i&&{[i]:o};const s=$($({},e.ctx),e.resolved),a=t&&(e.current=t)(e.component,s);e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(M.groupOutros(),t.o(()=>{t.d(1),e.blocks[n]=null}))}):e.block.d(1),a.c(),a[a.i?"i":"m"](e.mount(),e.anchor),e.component.root.set({})),e.block=a,e.blocks&&(e.blocks[r]=a)}if(P(t)){if(t.then(t=>{r(e.then,1,e.value,t)},t=>{r(e.catch,2,e.error,t)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved={[e.value]:t}}},appendNode:function(t,e){e.appendChild(t)},insertNode:function(t,e,n){e.insertBefore(t,n)},detachNode:function(t){t.parentNode.removeChild(t)},detachBetween:function(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)},detachBefore:function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)},detachAfter:function(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)},reinsertBetween:function(t,e,n){for(;t.nextSibling&&t.nextSibling!==e;)n.appendChild(t.parentNode.removeChild(t.nextSibling))},reinsertChildren:function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)},reinsertAfter:function(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)},reinsertBefore:function(t,e){for(var n=t.parentNode;n.firstChild!==t;)e.appendChild(n.firstChild)},destroyEach:function(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)},createFragment:function(){return document.createDocumentFragment()},createElement:j,createSvgElement:U,createText:L,createComment:function(){return document.createComment("")},addListener:function(t,e,n){t.addEventListener(e,n,!1)},removeListener:function(t,e,n){t.removeEventListener(e,n,!1)},setAttribute:B,setAttributes:function(t,e){for(var n in e)n in t?t[n]=e[n]:void 0===e[n]?I(t,n):B(t,n,e[n])},removeAttribute:I,setXlinkAttribute:function(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)},getBindingGroupValue:function(t){for(var e=[],n=0;n<t.length;n+=1)t[n].checked&&e.push(t[n].__value);return e},toNumber:function(t){return""===t?void 0:+t},timeRangesToArray:function(t){for(var e=[],n=0;n<t.length;n+=1)e.push({start:t.start(n),end:t.end(n)});return e},children:function(t){return Array.from(t.childNodes)},claimElement:function(t,e,n,r){for(var i=0;i<t.length;i+=1){var o=t[i];if(o.nodeName===e){for(var s=0;s<o.attributes.length;s+=1){var a=o.attributes[s];n[a.name]||o.removeAttribute(a.name)}return t.splice(i,1)[0]}}return r?U(e):j(e)},claimText:function(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(3===r.nodeType)return r.data=e,t.splice(n,1)[0]}return L(e)},setInputType:function(t,e){try{t.type=e}catch(t){}},setStyle:function(t,e,n){t.style.setProperty(e,n)},selectOption:function(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];if(r.__value===e)return void(r.selected=!0)}},selectOptions:function(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];r.selected=~e.indexOf(r.__value)}},selectValue:function(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value},selectMultipleValue:function(t){return[].map.call(t.querySelectorAll(":checked"),function(t){return t.__value})},addResizeListener:function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let r;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.type="text/html",n.onload=(()=>{(r=n.contentDocument.defaultView).addEventListener("resize",e)}),/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{r.removeEventListener("resize",e),t.removeChild(n)}}},destroyBlock:V,outroAndDestroyBlock:z,updateKeyedEach:function(t,e,n,r,i,o,s,a,c,u,l,h,d,f){for(var p=t.length,m=s.length,g=p,v={};g--;)v[t[g].key]=g;var y=[],b={},_={};for(g=m;g--;){var w=f(o,s,g),x=r(w),k=a[x];k?i&&k.p(n,w):(k=l(e,x,w)).c(),y[g]=b[x]=k,x in v&&(_[x]=Math.abs(g-v[x]))}var C={},E={},S=u?z:V;function A(t){t[h](c,d),a[t.key]=t,d=t.first,m--}for(u&&M.groupOutros();p&&m;){var R=y[m-1],O=t[p-1],T=R.key,N=O.key;R===O?(d=R.first,p--,m--):b[N]?!a[T]||C[T]?A(R):E[N]?p--:_[T]>_[N]?(E[T]=!0,A(R)):(C[N]=!0,p--):(S(O,a),p--)}for(;p--;)b[(O=t[p]).key]||S(O,a);for(;m;)A(y[m-1]);return y},getSpreadUpdate:function(t,e){for(var n={},r={},i={},o=t.length;o--;){var s=t[o],a=e[o];if(a){for(var c in s)c in a||(r[c]=1);for(var c in a)i[c]||(n[c]=a[c],i[c]=1);t[o]=a}else for(var c in s)i[c]=1}for(var c in r)c in n||(n[c]=void 0);return n},spread:function(t){const e=Object.assign({},...t);let n="";return Object.keys(e).forEach(t=>{const r=e[t];void 0!==r&&(!0===r&&(n+=" "+t),n+=" "+t+"="+JSON.stringify(r))}),n},escaped:G,escape:function(t){return String(t).replace(/["'&<>]/g,t=>G[t])},each:function(t,e,n){let r="";for(let i=0;i<t.length;i+=1)r+=n(e(t[i],i));return r},missingComponent:{_render:()=>""},linear:q,generateRule:D,hash:F,wrapTransition:function(t,e,n,r,i){const o=n(e,r),s=o.duration||300,a=o.easing||q;let c;return i&&(o.css&&o.delay&&(c=e.style.cssText,e.style.cssText+=o.css(0)),o.tick&&o.tick(0)),{t:i?0:1,running:!1,program:null,pending:null,run(t,e){const n={start:window.performance.now()+(o.delay||0),b:t,callback:e||N};t||(n.group=M.outros,M.outros.remaining+=1),o.delay?this.pending=n:this.start(n),this.running||(this.running=!0,M.add(this))},start(n){if(t.fire(`${n.b?"intro":"outro"}.start`,{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=s*Math.abs(n.b-n.a),n.end=n.start+n.duration,o.css){o.delay&&(e.style.cssText=c);const t=D(n,a,o.css);M.addRule(t,n.name="__svelte_"+F(t)),e.style.animation=(e.style.animation||"").split(", ").filter(t=>t&&(n.delta<0||!/__svelte/.test(t))).concat(`${n.name} ${n.duration}ms linear 1 forwards`).join(", ")}this.program=n,this.pending=null},update(t){const e=this.program;if(!e)return;const n=t-e.start;this.t=e.a+e.delta*a(n/e.duration),o.tick&&o.tick(this.t)},done(){const n=this.program;this.t=n.b,o.tick&&o.tick(this.t),t.fire(`${n.b?"intro":"outro"}.end`,{node:e}),n.b||n.invalidated?o.css&&M.deleteRule(e,n.name):(n.group.callbacks.push(()=>{n.callback(),o.css&&M.deleteRule(e,n.name)}),0==--n.group.remaining&&n.group.callbacks.forEach(t=>{t()})),this.running=!!this.pending},abort(){this.program&&(o.tick&&o.tick(1),o.css&&M.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate(){this.program&&(this.program.invalidated=!0)}}},transitionManager:M,noop:N,assign:$,assignTrue:function(t,e){for(var n in e)t[n]=1;return t},isPromise:P});function ct(t,e){this._handlers={},this._dependents=[],this._computed=K(),this._sortedComputedProperties=[],this._state=$({},t),this._differs=e&&e.immutable?H:Z}$(ct.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){const e={};for(let n=0;n<t.length;n+=1){const r=t[n];e["$"+r]=this._state[r]}return e},_remove(t){let e=this._dependents.length;for(;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,e){const n=this._state;this._state=$($({},n),t);for(let t=0;t<this._sortedComputedProperties.length;t+=1)this._sortedComputedProperties[t].update(this._state,e);this.fire("state",{changed:e,previous:n,current:this._state});const r=this._dependents.slice();for(let t=0;t<r.length;t+=1){const n=r[t],i={};let o=!1;for(let t=0;t<n.props.length;t+=1){const r=n.props[t];r in e&&(i["$"+r]=this._state[r],o=!0)}o&&n.component.set(i)}this.fire("update",{changed:e,previous:n,current:this._state})},_sortComputedProperties(){const t=this._computed,e=this._sortedComputedProperties=[],n=K();let r;function i(o){const s=t[o];s&&(s.deps.forEach(t=>{if(t===r)throw new Error(`Cyclical dependency detected between ${t} <-> ${o}`);i(t)}),n[o]||(n[o]=!0,e.push(s)))}for(const t in this._computed)i(r=t)},compute(t,e,n){let r;const i={deps:e,update:(i,o,s)=>{const a=e.map(t=>(t in o&&(s=!0),i[t]));if(s){const e=n.apply(null,a);this._differs(e,r)&&(r=e,o[t]=!0,i[t]=r)}}};this._computed[t]=i,this._sortComputedProperties();const o=$({},this._state),s={};i.update(o,s,!0),this._set(o,s)},fire:Q,get:W,on:Y,set(t){const e=this._state,n=this._changed={};let r=!1;for(const i in t){if(this._computed[i])throw new Error(`'${i}' is a read-only property`);this._differs(t[i],e[i])&&(n[i]=r=!0)}r&&this._set(t,n)}});const ut={config:{initial:"/"},configBaseUrl(){"file:"!==window.location.protocol?ut.config.path=window.location.origin:ut.config.path=window.location.pathname.replace("/index.html",""),ut.load.baseUrl=ut.config.path+ut.load.baseUrl},configPageJs(){for(const t in ut.routes)v(t,()=>{ut.routes[t].then(()=>ut.root.set({_route:t}))});ut.fileOrMobile()?(v({dispatch:!1}),v(ut.config.initial)):v()},component:{},defaults:{},fileOrMobile:()=>window&&(window.cordova||"file:"==window.location.protocol),load:t=>new Promise((e,n)=>{if(ut.component[t])e(!0);else{let r;const i=new XMLHttpRequest;i.open("GET",ut.load.baseUrl+t+".js");const o=function(){4!==i.readyState||r||(ut.component[t]=new Function("return "+i.responseText)(),e(!0),r=!0)};i.onload=i.onreadystatechange=o,i.onerror=n,i.send(),4===i.readyState&&o()}}),preloadComponents(){const t=ut.fileOrMobile()?ut.config.initial:window.location.pathname,e="/"==t.slice(-1)?t.slice(0,-1):t+"/",n={then:()=>console.log("[Altiva] 404: Can't load your app since the url '"+t+"' or '"+e+"' is not defined in your app.js file")};return ut.routes[t]?ut.routes[t]:ut.routes[e]?ut.routes[e]:n},route(t,e){void 0===e?v(t):v(t,e)},routes:{},root:null,shared:at,startInstance(t){t?t.target||(t.target=document.body):t={target:document.body},this.defaults.useStore&&(this.store=new ct,t.store=this.store),ut.root=new App(t),window[this.defaults.globalVar]=ut.root},store:null,start(t){ut.configBaseUrl(),ut.preloadComponents().then(()=>{ut.startInstance(t),ut.configPageJs()})}};return ut.load.baseUrl="/components/",ut}();
